title SOH Movement

participant "ERP file transfer" as A
participant "Ad hoc receipt/issue" as B
participant "Physical stock count" as C
participant "Manual Adjustment" as D

entity "SOH Movement Event\n(increase or decrease)" as E

participant "SOH Movement Event Handler" as H

A->E:Create
B->E:Create
C->E:Create
D->E:Create

note right of E:One event can contain 1 to n products.

H->E: Handles

H->H: Perform increase/decrease \nfor each product in the event

note left of H: Assumption: If movement for any one product \nfails, the whole operation should be rolled back

#http://sequencediagram.org/index.html?initialData=C4S2BsFMAIGUHkAS0CyB7AbpAtpAdsAFCEAOAhgE6gDGI5B0ARAKIBKACtAGYhTTAUyeAM5dIFRtDLDoAQVKUadIcCayAJtAAWaatAqRqkOsAD0IYcICukSdOgAhBVRC16qxuy0BPYa7Lg0MLAugDW0NRoVgR2MgDCzkruTChCVgFy6gBWVsG4MVIyACLE+KDA3kwIyOhY+arMWAQAOngAFCB41AbSMGgU0OqGPcKQAJSx0MzE5C5uKlVIqJg4ZVNNqohC6lAShdCIxLIAtAB8zABccT3AkIQOZ5fXkGS3hHGPVzd3RZ-Pr3dCHg0Ld9CAAOZaVRoLhTC7wPAwSAbCJCCJoAhkTrQACM-DQ0Dw0BIFDQ6is1GAwgAdMREJ8DtsoMI6WdEBdoOxxFx+thoJ1ui9RqYhoLetBWjyBi9qFpiaTyZT+UTgFokRtiMDQVAuNDYey5JYrNgSKAMRyAJKw7ArercfpSPCVDEwElkimqSVY8DCAA0-DV0AA7jo+GgSOJXiAMUEdFZwJoAEYwUngKBJsjUUJAA
